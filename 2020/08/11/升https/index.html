<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="ImaginingMe">
    <meta name="keyword"  content="frontend">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        升https - 前端技术分享 | AnitaK&#39;s Blog
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 5.0.0"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> DICHTEN == CONDENSARE </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="http://www.imaginingme.cn/img/avatar.jpeg" />
        </div>
        <div class="name">
            <i>ImaginingMe</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archive">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#SSL"><span class="toc-text">SSL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CA"><span class="toc-text">CA</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#protocol-relative-url%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-text">protocol-relative url的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cases"><span class="toc-text">cases</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SSL%E8%AF%81%E4%B9%A6%E7%94%9F%E6%88%90"><span class="toc-text">SSL证书生成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#https-http"><span class="toc-text">https | http</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ajax-using-https-on-an-http-page"><span class="toc-text">ajax-using-https-on-an-http-page</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#how-can-i-make-an-http-request-from-an-https-website"><span class="toc-text">how-can-i-make-an-http-request-from-an-https-website</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cookies-set%E4%B8%8D%E4%BA%86%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-text">cookies set不了的问题</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> DICHTEN == CONDENSARE </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        升https
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2020-08-11 16:59:53</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#HTTP" title="HTTP">HTTP</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#SSL" title="SSL">SSL</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <ul>
<li>名词解释</li>
</ul>
<h4 id="SSL"><a href="#SSL" class="headerlink" title="SSL"></a>SSL</h4><p>SSL (Secure Sockets Layer) and its successor, TLS (Transport Layer Security), are protocols for establishing authenticated and encrypted links between networked computers. Although the SSL protocol was deprecated with the release of TLS 1.0 in 1999, it is still common to refer to these related technologies as “SSL” or “SSL/TLS.” The most current version is TLS 1.3, defined in RFC 8446(<a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc8446">https://tools.ietf.org/html/rfc8446</a>) (August 2018).</p>
<ul>
<li>为互联网通信提供安全及数据完整性保障</li>
<li>SSL证书是CA对用户公钥的认证</li>
</ul>
<h4 id="CA"><a href="#CA" class="headerlink" title="CA"></a>CA</h4><p>A certificate authority (CA), also sometimes referred to as a certification authority, is a company or organization that acts to validate the identities of entities (such as websites, email addresses, companies, or individual persons) and bind them to cryptographic keys through the issuance of electronic documents known as digital certificates. A digital certificate provides:<br>CA机构，是承担公钥合法性检验的第三方权威机构，负责指定政策、步骤来验证用户的身份，并对SSL证书进行签名，确保证书持有者的身份和公钥的所有权。</p>
<ul>
<li>Authentication, by serving as a credential to validate the identity of the entity that it is issued to.</li>
<li>Encryption, for secure communication over insecure networks such as the Internet.</li>
<li>Integrity of documents signed with the certificate so that they cannot be altered by a third party in transit.</li>
</ul>
<p><img src="ca-diagram-b.png"></p>
<p>cite(<a target="_blank" rel="noopener" href="https://www.ssl.com/faqs/what-is-a-certificate-authority/">https://www.ssl.com/faqs/what-is-a-certificate-authority/</a>)</p>
<h3 id="protocol-relative-url的问题"><a href="#protocol-relative-url的问题" class="headerlink" title="protocol-relative url的问题"></a>protocol-relative url的问题</h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.paulirish.com/2010/the-protocol-relative-url/">https://www.paulirish.com/2010/the-protocol-relative-url/</a></li>
<li>尽量避免使用<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Update</span> <span class="number">2014.12</span><span class="number">.17</span>:</span><br><span class="line"></span><br><span class="line"><span class="keyword">Now</span> that SSL <span class="keyword">is</span> encouraged <span class="keyword">for</span> everyone <span class="keyword">and</span> doesn’t have <span class="keyword">performance</span> concerns, this technique <span class="keyword">is</span> <span class="keyword">now</span> an <span class="keyword">anti</span>-pattern. <span class="keyword">If</span> the asset you need <span class="keyword">is</span> available <span class="keyword">on</span> SSL, <span class="keyword">then</span> <span class="keyword">always</span> <span class="keyword">use</span> the https:// asset.</span><br><span class="line"></span><br><span class="line">Allowing the snippet <span class="keyword">to</span> request <span class="keyword">over</span> <span class="keyword">HTTP</span> opens the door <span class="keyword">for</span> attacks <span class="keyword">like</span> the recent Github Man-<span class="keyword">on</span>-the-side attack. It’s <span class="keyword">always</span> <span class="keyword">safe</span> <span class="keyword">to</span> request HTTPS assets even <span class="keyword">if</span> your site <span class="keyword">is</span> <span class="keyword">on</span> <span class="keyword">HTTP</span>, however the <span class="keyword">reverse</span> <span class="keyword">is</span> <span class="keyword">not</span> true.</span><br><span class="line"></span><br><span class="line">More guidance <span class="keyword">and</span> details <span class="keyword">in</span> Eric Mills’ guide <span class="keyword">to</span> CDNs &amp; HTTPS <span class="keyword">and</span> digitalgov.gov’s writeup <span class="keyword">on</span> secure analytics hosting.</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="cases"><a href="#cases" class="headerlink" title="cases"></a>cases</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">curl <span class="keyword">https</span>://xxxx.xxx.cn</span><br><span class="line">curl: (<span class="number">60</span>) SSL: no alternative certificate subject name matches target host name <span class="string">&#x27;xxxx.xxx.cn&#x27;</span></span><br><span class="line">More details here: <span class="keyword">https</span>://curl.haxx.se/docs/sslcerts.html</span><br><span class="line"></span><br><span class="line">curl failed <span class="built_in">to</span> verify <span class="keyword">the</span> legitimacy <span class="keyword">of</span> <span class="keyword">the</span> server <span class="keyword">and</span> therefore could <span class="keyword">not</span></span><br><span class="line">establish <span class="keyword">a</span> secure connection <span class="built_in">to</span> <span class="keyword">it</span>. To learn more about this situation <span class="keyword">and</span></span><br><span class="line">how <span class="built_in">to</span> fix <span class="keyword">it</span>, please visit <span class="keyword">the</span> web page mentioned above.</span><br></pre></td></tr></table></figure>
<p>进入Chrome看，可以点击小锁，看具体的证书信息</p>
<h3 id="SSL证书生成"><a href="#SSL证书生成" class="headerlink" title="SSL证书生成"></a>SSL证书生成</h3><ul>
<li>17年开始，如果不是https,chrome会被标记不安全 苹果要求都是https；不用https，很容易被运营商劫持</li>
<li>证书的安全级别 证书的更新</li>
<li>七牛云（一年1900） 阿里云 腾讯云</li>
<li>拿到证书，scp上传到服务器上<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mv ssl <span class="regexp">/www/</span></span><br><span class="line"><span class="regexp">/nginx/</span>conf.d server部分配置ssl</span><br><span class="line"><span class="comment"># 运维，安全</span></span><br><span class="line">help.aliyun.com</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="https-http"><a href="#https-http" class="headerlink" title="https | http"></a>https | http</h3><h4 id="ajax-using-https-on-an-http-page"><a href="#ajax-using-https-on-an-http-page" class="headerlink" title="ajax-using-https-on-an-http-page"></a>ajax-using-https-on-an-http-page</h4><ul>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/1105934/ajax-using-https-on-an-http-page">https://stackoverflow.com/questions/1105934/ajax-using-https-on-an-http-page</a><h4 id="how-can-i-make-an-http-request-from-an-https-website"><a href="#how-can-i-make-an-http-request-from-an-https-website" class="headerlink" title="how-can-i-make-an-http-request-from-an-https-website"></a>how-can-i-make-an-http-request-from-an-https-website</h4></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/53211319/how-can-i-make-an-http-request-from-an-https-website">https://stackoverflow.com/questions/53211319/how-can-i-make-an-http-request-from-an-https-website</a></li>
</ul>
<h4 id="cookies-set不了的问题"><a href="#cookies-set不了的问题" class="headerlink" title="cookies set不了的问题"></a>cookies set不了的问题</h4><ul>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/62578201/how-to-fix-this-set-cookie-was-blocked-due-to-user-preferences-in-chrome-sta">https://stackoverflow.com/questions/62578201/how-to-fix-this-set-cookie-was-blocked-due-to-user-preferences-in-chrome-sta</a></li>
<li><a target="_blank" rel="noopener" href="https://angel.co/today/stories/chrome-83-arrives-with-redesigned-security-settings-third-party-cookies-blocked-in-incognito-21796">https://angel.co/today/stories/chrome-83-arrives-with-redesigned-security-settings-third-party-cookies-blocked-in-incognito-21796</a></li>
</ul>

        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">赞赏</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="img/donate.jpg">
        <p> 感谢鼓励 </p>
    </div>
</div>
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/anitakym">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/"><p>京ICP备19049908号-1</p></a>
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>  Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
