---
title: mathjax在项目中的应用
date: 2021-11-17 11:35:06
tags:
---

## node服务
### history-problems
- 腾讯云抖动，我们有放在腾讯云的文档对象存储的资源，抖动时会发生资源获取失败



## browser端

## Problems

### 渲染每个公式另起一行，只在safari能复现

- 渲染中的问题，受到了业务逻辑里面的样式的影响，导致了渲染的问题
- 解决方案：
1.临时在渲染完成后，增加display:inline-block在外层结构中，使其不再换行
2.根本解决方案：找到了影响渲染的结构，因为在题目渲染里面又增加了个P标签，是block的元素，影响了渲染
- 思路：一定要做好题目组件渲染的抽取，能进行独立测试，方便定位问题是否在业务中，然后逐步排查
- 问题来源：“ios系统里面，如果内容里面有录入的block元素，会导致mathjax公式渲染换行的问题”本质上是最开始的录入时候，给出的题目渲染结构有问题，用span包裹了题干和解析等，这样一旦里面有div block特性的元素，在safari渲染就会换行；但这个是历史问题，就原先录入的时候没考虑Safari的渲染；Chrome不换行是因为有容错能力；Safari没有容错能力，直接把问题暴露出来了

### 在iPhone8以及以下的设备中（微信小程序，小程序均为最新）
部分mathjax渲染的数学公式，只有停在了某个视区，且点击触发，才能够显示出来；

原因，还是渲染的部分收到了外层结构的影响，overflow-x:auto; overflow-y:hidden;