---
title: 小程序开发总结
date: 2021-11-02 14:15:31
tags:
---
> 不特指，默认为微信小程序-mini program

## 数据分析
### 基本概念
- https://developers.weixin.qq.com/miniprogram/analysis/#%E5%B8%B8%E8%A7%84%E5%88%86%E6%9E%90
#### 常规分析
- 

#### 自定义分析

### We分析

## Basic
### 背景

why

• 诞生背景
	◦ 更好的体验
	◦ 规范与管理

what
• 触手可及
	◦ 不需要下载安装即可使用
• 用完即走
	◦ 扫or搜即可打开
• 无需安装卸载

APP VS 小程序
无需安装
不占内存
易传播

with h5 - 小程序（消息订阅，直接转发给好友）

> 学生端引流或者小型测试使用（运营引流+教师测试-课后配套免费服务）

### 开发工具
- 代码提示
- 设置 - 编辑设置
- 真机调试 - 发给第三方（用户）
- 预览 - 自己用
- 详情 - 本地设置 - 看基本库版本


### icon组件
- 

### 路由
- https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.switchTab.html
- 


## keys
#### setData
- 合理使用 setData
- https://developers.weixin.qq.com/miniprogram/dev/framework/performance/tips/runtime_setData.htmlc
- 开发者可以通过组件的 setUpdatePerformanceListener 接口获取更新性能统计信息，来分析产生性能瓶颈的组件 
- https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/update-perf-stat.html


#### 小程序测速

https://developers.weixin.qq.com/miniprogram/dev/framework/performanceReport/


## Video
- 视频（v2.4.0 起支持同层渲染） 相关api：wx.createVideoContext
- 可以做互动视频播放
- https://developers.weixin.qq.com/miniprogram/dev/api/media/video/VideoContext.html

#### API
- https://developers.weixin.qq.com/miniprogram/dev/api/media/video/VideoContext.seek.html
- 跳转到指定位置

# basic
#### advantage
（相对）（app - 时频，时长）
- 下载，安装成本 - 无
- 启动速度
- hybrid-app - 审核周期

- 用户体验｜商户运营｜技术开发



### 组件｜接口
- 设计的边界
- 

## 运行机制
- 热启动｜冷启动 - 缓存｜getupdateManager 
- 主动销毁 - 内存警告｜进入后台一定时间
- 前台状态｜后台状态

### 双线程架构
- why - 安全+管控
- View - 视图线程 && App Service - 逻辑线程
- View | App Service | Native
- view - Page(WXML|WXSS)
- App Sevice - Manager | API
- Native - 微信能力｜离线存储｜网络请求｜JSBridge
- Event | Data

#### setData
- evaluateJavaScript实现的(hybrid也是)
- （安卓）可能页面卡顿（界面滑动中 - 视图线程 - 渲染中）是由evaluateJavaScript导致的
-  逻辑层发来的请求阻塞了，阻塞超过200MS就会有卡顿的感觉
#### ios
- wkwebview - 内存紧张，wkwebview会被回收，所以一些历史页面我们回不去

#### wxs
- wxs不依赖于运行时的基础库版本 - 可以在所有小程序版本里面运行
- 运行在View线程里
- 提高View层运行效率
- 运行环境和其他JS代码是隔离的
- IOS上效率高，android上面和JS没啥差别
- 应用场景 - 如何提高效率

#### 视图线程
- 编译原理
- 小程序视图层是在polymer基础上，基于web component 标准实现的
- 类似Vue的实现
- 原生在vw上面
- 生命周期

#### 逻辑线程
- 初始化｜等待激活｜激活｜后台运行 - 四个状态

### feature
- 命名（可重名）
- 星标
- 关联多个公众号
- 群能力
- 灰度更新｜线上回退
- 客服能力
- 微信能力的接入

#### 搜索
- 百度影响了微信
- 微信小程序SEO指南（20年1月） - 去中心化？
- 搜一搜 - 提高小程序搜索排名（注意描述到填写）
- 中间有个坑，22年的时候，年初，新开发的小程序，IOS端一直搜不到，然后需要配置搜一搜才能搜到
#### 附近小程序
- 评价机制
- 本地化商家

#### 基础商业能力的完善

#### 直播组件
- 2020年

#### 小程序框架
- 脱离微信客户端环境

#### 订阅消息
- 通知机制
