---
title: CMDB-practice
date: 2024-04-07 14:24:40
tags:
---
### CMDB
CMDB，全称是 "Configuration Management Database"，被翻译为配置管理数据库。这是 ITIL（IT基础设施库）实践标准中的一个重要组成部分。CMDB 将 IT 服务资源（硬件、软件、人员等）和它们之间的关系存储在一致的和可靠的数据库中。这个数据库提供一套标准化的方法来收集、存储、管理、更新、分析和展示 IT 服务中所有配置项（Configuration Item，CI）的数据。

在CMDB中,每一个实体（实体可能是一个服务、一个硬件设备、一个软件包）都被称为一个配置项。配置项被记录在数据库中，并且每个配置项间的关系也被记录下来。

其主要用途包括：

1. 提供IT服务资源的明确和准确视图，帮助采取决策和进行计划。
2. 提供过程执行相关的数据，如变更管理、问题管理、事件管理等。
3. 追踪每个配置项的生命周期，包括它的版本、状态和历史记录。
4. 提供审计、合规与管控需要的信息。

CMDB 可以帮助组织更好地理解其 IT 环境的结构和依赖性，从而改善决策制定、缩短故障排查时间、降低风险并提高服务质量。


### IPAM

IPAM，全称是IP地址管理（IP Address Management），是一种用来规划、追踪和管理IPv4和IPv6网络空间中IP地址的方法和技术。它通常用于网络管理员在一个组织中分配，跟踪和退回IP地址的空间。

IPAM通常包含以下几个主要方面：

1. IP地址库存管理：跟踪哪些IP地址正在被使用，哪些IP地址还可以用。这帮助防止IP冲突和地址耗尽。

2. IP地址分配：这涉及到在网络中自动或手动分配IP地址。自动分配通常使用DHCP进行。

3. DNS和DHCP集成：IPAM通常集成DNS和DHCP服务，使得IP地址管理和主机名解析可以同步进行，更加方便。

4. IP地址策略执行：用户可以设置IP地址分配策略，并自动执行。

5.报表和审计：IPAM可以提供详细的报表和审计日志，以便操作的跟踪和问题的定位。

许多网络设备厂商如Cisco、Infoblox等，都提供了IPAM的解决方案。此外也有开源的IPAM解决方案，比如phpIPAM等。使用IPAM工具能有效地管理和规划IP地址使用，避免地址冲突，帮助节约网络资源，提高效率。

特殊资源/IP地址管理（IPAM） 
IPAM是对IP地址的集中管理，IP也是一种资源，属于CMDB的范畴
IP地址池使用情况可视化显示

### 资源关系/应用自动拓扑
应用自动拓扑
通过网络监听自动生成应用拓扑图


### 资源关系/主机拓扑图
拓扑图亮点
1. 可以定义网段，系统会自动发现新设备
2. 拖拽主机直接绑定主机信息
3. 连线快速关联设备端口


### 应用场景/监控告警

### 应用场景/运维大数据
资产数据库
运行数据库

数据分析，决策依据

### 第一步：一级分类创建控件库
资源分类：所有需要管理的资源都可以
在这里定义。
表单控件：控件内置了属性，用于不同
的表单输入项。
资源表单：由一组表单控件组成，用于
定义资源对象的各种属性。
控件属性：定义表单里控件的一些基本
信息。


### 第二步：二级分类勾选控件

### 第三步：创建实例

### 实例列表页
显示：可自定义列。
搜索：万能搜索框，可以保存常用搜索。
导入导出：方便用户构建初始资源。
批量管理：可以对资源的某个属性进行
批量更新，可以对资源进行批量删除。

### 实例详情页
对实例进行生命周期管理


### 更新资源

原则： 能自动更新的不手动更新
- 不需要手动录入，只需要在页面设置规则
- 所有资源支持excel导入导出

- 支持页面手动，每小时自动
用户资源导入(LDAP,钉钉，微信)
主机资源导入（公有云，zabbix）
主机资源发现（自动发现，每10分钟扫描一次所有子网）

### 特殊控件-服务树
1. 服务树相当于主机组。
2. 服务树的节点相当于标签，通过树组织和展现标签。
3. 6种类型节点：部门、环境、业务、服务、故障池、资源池。
4. 最佳实践树层级：1部门、2环境、3业务、4服务

### 
CMDB --Configuration Management Database 配置管理数据库
• CMDB是配置管理数据库，存储与管理企业IT架构中设备的各种配置信息，通过识别、控制、维护，检查企业的IT资源，从而高效控制与管理不断变化的IT基础架构与IT服务。
• 为其它流程，例如事故管理、问题管理、变更管理、发布管理等流程提供准确的配置信息。


• 传统的CMDB更关注硬件、主机等的管理。
• 应用CMDB更多的关注应用、主机、IP等运维场景需要的软件配置管理。
服务能力：资源维护、容量管理、日常运维等
20大功能模块：权限审计

设计原则：围绕「运维即服务」进行整体设计，内置管控及轻量流程。
设计依据：参考ITIL、DevOps、SRE等方法论，具备ITSM软件能力。
整体目标：提高运维效率、提升运维质量、保障运维安全、降低运维成本。


通过系统记录所有资源信息。动态表单，模型实例。
什么是模型？什么是实例？
模型（Model）在编程或数据管理中通常表示某种特定类型的抽象结构 ，它定义了一类对象的特征和特性，包括数据字段、属性、行为等。比如，如果要定义一个“汽车”的模型，数据字段可能包括"品牌"、"型号"、"颜色"、"年份"等。

实例（Instance），也常被称为对象（Object），是基于模型生成的具体个体。每一个实例都继承了模型的所有特征并允许赋予具体的值。在前面“汽车”模型的例子中，一个具体的汽车，比如“2020年款红色丰田卡罗拉”就可以被认为是“汽车”模型的一个实例。

系统记录所有资源信息的场景中，模型可能代表各类资源的类型（比如服务器、网络设备、数据库等），而实例就代表了具体的资源个体（比如某一台具体的服务器、某个具体的网络设备、某个具体的数据库等）。动态表单可能用于收集和展示这些实例的具体数据。