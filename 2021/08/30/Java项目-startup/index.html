<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="ImaginingMe">
    <meta name="keyword"  content="frontend">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        Java项目-startup - 前端技术分享 | AnitaK&#39;s Blog
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 5.0.0"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> DICHTEN == CONDENSARE </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="http://www.imaginingme.cn/img/avatar.jpeg" />
        </div>
        <div class="name">
            <i>ImaginingMe</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archive">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%A6%E7%B1%8D-prepare"><span class="toc-text">书籍 prepare</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83"><span class="toc-text">Java 代码规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83"><span class="toc-text">数据库设计规范</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-text">命名规范</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83"><span class="toc-text">设计规范</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3%E8%A7%84%E8%8C%83"><span class="toc-text">设计文档规范</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3"><span class="toc-text">运维部署文档</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tips"><span class="toc-text">Tips</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rules"><span class="toc-text">rules</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-API-Design-Best-Practices"><span class="toc-text">Java API Design Best Practices</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#APIs-are-the-thing-that-gets-us-to-the-thing"><span class="toc-text">APIs are the thing that gets us to the thing</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E4%B8%8A%E9%A1%B9%E7%9B%AEdebug"><span class="toc-text">线上项目debug</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E5%85%A8"><span class="toc-text">安全</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#binlog"><span class="toc-text">binlog</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%BA%94%E7%94%A8%E9%85%8D%E7%BD%AE"><span class="toc-text">配置应用配置</span></a></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> DICHTEN == CONDENSARE </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        Java项目-startup
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2021-08-30 13:58:02</span></span>
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <blockquote>
<p>公司 Java 项目快速起起来，一是深入了解下架构和实现，二是方便本地起，做调试；能在对接具体问题的时候，具体脉络有个清晰的概念；</p>
</blockquote>
<h3 id="书籍-prepare"><a href="#书籍-prepare" class="headerlink" title="书籍 prepare"></a>书籍 prepare</h3><ul>
<li>码出高效，阿里巴巴 Java 开发手册</li>
<li>编写高质量代码，改善 Java 程序的 151 个建议</li>
<li>Google API design guide 中文版</li>
<li>netty 权威指南</li>
</ul>
<h3 id="Java-代码规范"><a href="#Java-代码规范" class="headerlink" title="Java 代码规范"></a>Java 代码规范</h3><ul>
<li>alibaba-代码规约 plugin</li>
<li>findBugs - plugin</li>
<li>SonarLint</li>
<li>sequence diagram</li>
<li>设计原则：单一职责｜开闭｜接口隔离｜里氏替换｜迪米特｜依赖倒置</li>
</ul>
<h3 id="数据库设计规范"><a href="#数据库设计规范" class="headerlink" title="数据库设计规范"></a>数据库设计规范</h3><h4 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h4><ul>
<li>库｜表｜字段 名不允许出现大写字母</li>
<li>统一规范，数据库名：<code>ucan_业务名</code> ｜ 表名：<code>业务名_类型名_实体名</code></li>
<li>表类型：tb（基础信息表-数据基本不会增长） | td（业务产生数据表-数据随着用户操作增长） | tr（业务关系表-实体间的关联关系表）</li>
<li>普通索引命名： <code>idx_字段名_字段名</code>； 唯一索引命名：<code>uniq_字段名_字段名</code>；</li>
</ul>
<h4 id="设计规范"><a href="#设计规范" class="headerlink" title="设计规范"></a>设计规范</h4><ul>
<li>表｜字段 - 必须有注释</li>
<li>表间逻辑关系</li>
<li>表结构设计文档</li>
</ul>
<h4 id="设计文档规范"><a href="#设计文档规范" class="headerlink" title="设计文档规范"></a>设计文档规范</h4><ul>
<li>项目背景（背景｜现状）</li>
<li>设计目标</li>
<li>系统设计（总体架构｜边界说明｜模块设计｜核心数据结构｜存储设计｜接口设计｜稳定性考虑｜兼容性考虑｜性能考虑）</li>
<li>测试关注点</li>
<li>上线及回滚方案</li>
<li>工作拆解</li>
</ul>
<h4 id="运维部署文档"><a href="#运维部署文档" class="headerlink" title="运维部署文档"></a>运维部署文档</h4><ul>
<li>数据库｜缓存</li>
<li>域名</li>
<li>git</li>
<li>服务器</li>
<li>服务器内项目地址｜文件夹权限｜日志地址｜ 日志索引</li>
<li>队列</li>
</ul>
<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><ul>
<li>如果非结构化数据不涉及查询，聚合等操作，可以用 MySQL 的 JSON 字段替换 MongoDB document（分布式事务处理｜）</li>
</ul>
<h3 id="rules"><a href="#rules" class="headerlink" title="rules"></a>rules</h3><ul>
<li>把简单的问题尽可能交给工具完成</li>
<li>简单<ul>
<li>1、代码格式化 包引用</li>
<li>2、编码规范规约（安装阿里的代码规约插件），右键菜单点击编码规范扫描</li>
<li>3、安装FindBugs插件，用FindBugs查找bug</li>
<li>4、安装SonarLint插件，右键菜单选Analyze with SonarLint</li>
<li>5、安装Sequence Diagram 插件，可以从controller层点右键查看调用路径</li>
</ul>
</li>
<li>中等：1、根据模块业务查看代码逻辑，确认代码正确2、根据代码确认完成功能开发</li>
<li>复杂：查看代码符合的设计原则，是否符合整体架构逻辑【原则是复杂的问题简单化】设计原则：单一职责、开闭、接口隔离、里氏替换、迪米特、依赖倒置</li>
</ul>
<h3 id="Java-API-Design-Best-Practices"><a href="#Java-API-Design-Best-Practices" class="headerlink" title="Java API Design Best Practices"></a>Java API Design Best Practices</h3><ul>
<li><a target="_blank" rel="noopener" href="https://static001.geekbang.org/con/33/pdf/3939125782/file/1%E3%80%81jgiles+-+API+Best+Practices+-+v2+-+qcon.pdf">https://static001.geekbang.org/con/33/pdf/3939125782/file/1%E3%80%81jgiles+-+API+Best+Practices+-+v2+-+qcon.pdf</a></li>
<li><a target="_blank" rel="noopener" href="https://java.jonathangiles.net/">https://java.jonathangiles.net/</a></li>
<li>Jonathan Giles</li>
<li>API design theory | practical advice</li>
<li>effective java 3rd edition - joshua bloch</li>
<li>API - 开发者 - 达成目标</li>
<li>抽象层面 - 更好的抽象</li>
<li>API的使用者 ｜ 使用者的目的</li>
<li>API Characteristics<ul>
<li>Understandable</li>
<li>使用者能看了能马上知道这个接口干什么的, 接口文档也是必须的</li>
<li>面向对象的设计</li>
<li>entry points</li>
<li>Consistency</li>
<li>null 的处理要严格符合文档里面写的</li>
</ul>
</li>
<li>restrained</li>
<li>evolvable</li>
<li>documentation</li>
<li>there is no magical process to api Design</li>
<li>api design is an art , and like art, becomes easier with practice</li>
</ul>
<h3 id="APIs-are-the-thing-that-gets-us-to-the-thing"><a href="#APIs-are-the-thing-that-gets-us-to-the-thing" class="headerlink" title="APIs are the thing that gets us to the thing"></a>APIs are the thing that gets us to the thing</h3><ul>
<li>“Computers aren’t the thing. They’re the thing that gets you to the thing.”<br>– Joe MacMillan (Halt and Catch Fire)</li>
<li>We have always assumed that applications are the thing</li>
<li>The real “thing” is delivering solutions through capabilities</li>
<li>APIs will always be a thing</li>
</ul>
<h2 id="线上项目debug"><a href="#线上项目debug" class="headerlink" title="线上项目debug"></a>线上项目debug</h2><ul>
<li>arthas<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">2022</span>-<span class="number">05</span>-<span class="number">11</span> <span class="number">16</span>:<span class="number">52</span>:<span class="number">53</span>.<span class="number">396</span> ERROR http-nio-<span class="number">8188</span>-exec-<span class="number">26</span> com.xx.xxx.account.util.JwtUtil (JwtUtil.java:<span class="number">40</span>)-</span><br><span class="line"><span class="attribute">io</span>.jsonwebtoken.ExpiredJwtException: JWT expired at <span class="number">2022</span>-<span class="number">04</span>-<span class="number">30</span>T<span class="number">09</span>:<span class="number">41</span>:<span class="number">22</span>Z. Current time: <span class="number">2022</span>-<span class="number">05</span>-<span class="number">11</span>T<span class="number">16</span>:<span class="number">52</span>:<span class="number">53</span>Z, a difference of <span class="number">976291396</span> milliseconds.  Allowed clock skew: <span class="number">0</span> milliseconds.</span><br><span class="line"><span class="attribute">at</span> io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:<span class="number">385</span>)</span><br></pre></td></tr></table></figure></li>
<li><a target="_blank" rel="noopener" href="http://arthas.gitee.io/">http://arthas.gitee.io/</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/alibaba/arthas">https://github.com/alibaba/arthas</a></li>
</ul>
<h2 id="安全"><a href="#安全" class="headerlink" title="安全"></a>安全</h2><ul>
<li>紧急漏洞<br>涉及应用<br>Jackson - Jackson-databind 反序列化漏洞(CVE-2021-20190)<br>log4j - Apache Log4j 远程代码执行漏洞(CVE-2021-44228、CVE-2021-45046)<br>FastJSON - FastJSON＜=1.2.80 反序列化漏洞<br>XStream - XStream 远程代码执行漏洞(CVE-2021-29505)<br>Saltstack - SaltStack 未授权访问漏洞(CVE-2021-21996、CVE-2021-22004、CVE-2021-31607)</li>
</ul>
<h3 id="binlog"><a href="#binlog" class="headerlink" title="binlog"></a>binlog</h3><p>二进制日志（binnary log）以事件形式记录了对MySQL数据库执行更改的所有操作</p>
<ul>
<li>二进制日志索引文件 ｜ 二进制日志文件</li>
<li>binlog消息分发服务（收敛binlog消息）</li>
<li><a target="_blank" rel="noopener" href="https://github.com/pingcap/tidb-binlog">https://github.com/pingcap/tidb-binlog</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.pingcap.com/zh/tidb/dev/tidb-binlog-overview">https://docs.pingcap.com/zh/tidb/dev/tidb-binlog-overview</a></li>
<li>canal 基于 MySQL 数据库binlog增量日志解析，提供增量数据订阅和消费</li>
</ul>
<h4 id="配置应用配置"><a href="#配置应用配置" class="headerlink" title="配置应用配置"></a>配置应用配置</h4><ul>
<li>Run/Debug Configurations - override parameters </li>
<li>configuration - environment - program arguments - –eureka.client.serviceUrl.defaultZone=xxxx/eureka/ –eureka.client.register-with-eureka=false</li>
</ul>

        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">赞赏</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="img/donate.jpg">
        <p> 感谢鼓励 </p>
    </div>
</div>
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/anitakym">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/"><p>京ICP备19049908号-1</p></a>
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>  Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
